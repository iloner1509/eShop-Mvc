/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/jquery-sparkline@2.4.0/src/chart-line.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
$.fn.sparkline.line=line=createClass($.fn.sparkline._base,{type:"line",init:function(t,i,h,e,a){line._super.init.call(this,t,i,h,e,a),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,i,h){var e,a=this.regionMap;for(e=a.length;e--;)if(null!==a[e]&&i>=a[e][0]&&i<=a[e][1])return a[e][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,i,h=this.currentRegion,e=this.target,a=this.vertices[h],n=this.options,s=n.get("spotRadius"),o=n.get("highlightSpotColor"),l=n.get("highlightLineColor");a&&(s&&o&&(t=e.drawCircle(a[0],a[1],s,void 0,o),this.highlightSpotId=t.id,e.insertAfterShape(this.lastShapeId,t)),l&&(i=e.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=i.id,e.insertAfterShape(this.lastShapeId,i)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,h,e,a,n=this.values,s=n.length,o=this.xvalues,l=this.yvalues,r=this.yminmax;for(t=0;t<s;t++)i=n[t],h="string"==typeof n[t],e="object"==typeof n[t]&&n[t]instanceof Array,a=h&&n[t].split(":"),h&&2===a.length?(o.push(Number(a[0])),l.push(Number(a[1])),r.push(Number(a[1]))):e?(o.push(i[0]),l.push(i[1]),r.push(i[1])):(o.push(t),null===n[t]||"null"===n[t]?l.push(null):(l.push(Number(i)),r.push(Number(i))));this.options.get("xvalues")&&(o=this.options.get("xvalues")),this.maxy=this.maxyorg=Math.max.apply(Math,r),this.miny=this.minyorg=Math.min.apply(Math,r),this.maxx=Math.max.apply(Math,o),this.minx=Math.min.apply(Math,o),this.xvalues=o,this.yvalues=l,this.yminmax=r},processRangeOptions:function(){var t=this.options,i=t.get("normalRangeMin"),h=t.get("normalRangeMax");void 0!==i&&(i<this.miny&&(this.miny=i),h>this.maxy&&(this.maxy=h)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,i,h,e,a){var n=this.options.get("normalRangeMin"),s=this.options.get("normalRangeMax"),o=i+Math.round(h-h*((s-this.miny)/a)),l=Math.round(h*(s-n)/a);this.target.drawRect(t,o,e,l,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,i,h,e,a,n,s,o,l,r,g,p,m,u,d,x,y,c,v,M,C,R,f,S,I=this.options,w=this.target,N=this.canvasWidth,b=this.canvasHeight,X=this.vertices,L=I.get("spotRadius"),T=this.regionMap;if(line._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),R=this.xvalues,f=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(e=a=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,h=this.yvalues.length-1,L&&(N<4*L||b<4*L)&&(L=0),L&&(((M=I.get("highlightSpotColor")&&!I.get("disableInteraction"))||I.get("minSpotColor")||I.get("spotColor")&&f[h]===this.miny)&&(b-=Math.ceil(L)),(M||I.get("maxSpotColor")||I.get("spotColor")&&f[h]===this.maxy)&&(b-=Math.ceil(L),e+=Math.ceil(L)),(M||(I.get("minSpotColor")||I.get("maxSpotColor"))&&(f[0]===this.miny||f[0]===this.maxy))&&(a+=Math.ceil(L),N-=Math.ceil(L)),(M||I.get("spotColor")||I.get("minSpotColor")||I.get("maxSpotColor")&&(f[h]===this.miny||f[h]===this.maxy))&&(N-=Math.ceil(L))),b--,void 0===I.get("normalRangeMin")||I.get("drawNormalOnTop")||this.drawNormalRange(a,e,b,N,i),o=[s=[]],m=u=null,d=f.length,S=0;S<d;S++)l=R[S],g=R[S+1],r=f[S],u=(p=a+Math.round((l-this.minx)*(N/t)))+((S<d-1?a+Math.round((g-this.minx)*(N/t)):N)-p)/2,T[S]=[m||0,u,S],m=u,null===r?S&&(null!==f[S-1]&&(s=[],o.push(s)),X.push(null)):(r<this.miny&&(r=this.miny),r>this.maxy&&(r=this.maxy),s.length||s.push([p,e+b]),n=[p,e+Math.round(b-b*((r-this.miny)/i))],s.push(n),X.push(n));for(x=[],y=[],c=o.length,S=0;S<c;S++)(s=o[S]).length&&(I.get("fillColor")&&(s.push([s[s.length-1][0],e+b]),y.push(s.slice(0)),s.pop()),s.length>2&&(s[0]=[s[0][0],s[1][1]]),x.push(s));for(c=y.length,S=0;S<c;S++)w.drawShape(y[S],I.get("fillColor"),I.get("fillColor")).append();for(void 0!==I.get("normalRangeMin")&&I.get("drawNormalOnTop")&&this.drawNormalRange(a,e,b,N,i),c=x.length,S=0;S<c;S++)w.drawShape(x[S],I.get("lineColor"),void 0,I.get("lineWidth")).append();if(L&&I.get("valueSpots"))for(void 0===(v=I.get("valueSpots")).get&&(v=new RangeMap(v)),S=0;S<d;S++)(C=v.get(f[S]))&&w.drawCircle(a+Math.round((R[S]-this.minx)*(N/t)),e+Math.round(b-b*((f[S]-this.miny)/i)),L,void 0,C).append();L&&I.get("spotColor")&&null!==f[h]&&w.drawCircle(a+Math.round((R[R.length-1]-this.minx)*(N/t)),e+Math.round(b-b*((f[h]-this.miny)/i)),L,void 0,I.get("spotColor")).append(),this.maxy!==this.minyorg&&(L&&I.get("minSpotColor")&&(l=R[$.inArray(this.minyorg,f)],w.drawCircle(a+Math.round((l-this.minx)*(N/t)),e+Math.round(b-b*((this.minyorg-this.miny)/i)),L,void 0,I.get("minSpotColor")).append()),L&&I.get("maxSpotColor")&&(l=R[$.inArray(this.maxyorg,f)],w.drawCircle(a+Math.round((l-this.minx)*(N/t)),e+Math.round(b-b*((this.maxyorg-this.miny)/i)),L,void 0,I.get("maxSpotColor")).append())),this.lastShapeId=w.getLastShapeId(),this.canvasTop=e,w.render()}}});
//# sourceMappingURL=/sm/aa928e9b031ee09f23da3592dcb09fbd2d3278128a181a0c1e789af1decd1308.map